<section class="greybeardqol skill-selection" style="--theme-color: {{themeColor}}">
  <!-- Top: OR options as cards -->
  <div class="or-option-row card-grid" style="--col-count: {{orOptions.length}};">
    {{#each orOptions}}
      <div class="card or-option" data-option="{{this.id}}">
        <h4>{{this.name}}</h4>
        <p class="points">
          {{#if this.trained}}<span>{{this.trained}} Trained</span>{{/if}}
          {{#if this.expert}}<span>{{this.expert}} Expert</span>{{/if}}
          {{#if this.master}}<span>{{this.master}} Master</span>{{/if}}
        </p>
      </div>
    {{/each}}
  </div>

  <!-- SVG for skill dependency lines -->
  <svg id="skill-arrows" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0;"></svg>
  <!-- Bottom: Skill columns -->
  <div class="skill-columns">
    {{#each (array 'trained' 'expert' 'master') as |rank|}}
      <div class="skill-column">
        <h3 class="remaining-points">{{capitalize rank}} [ <span class="point-count" data-rank="{{rank}}">0</span> ]</h3>
        <div class="pill-list">
          {{#each ../sortedSkills}}
            {{#if (eq this.system.rank rank)}}
              <div class="pill skill-card 
                 {{#if (includes ../../granted this._id)}}default-skill selected locked{{/if}}"
                data-rank="{{this.system.rank}}"
                data-uuid="{{this.uuid}}"
                data-skill-id="{{this.id}}"
                title="{{stripHtml this.system.description}}">
                <img src="{{this.img}}" alt="{{this.name}}" />
                <span>{{this.name}}</span>
              </div>
            {{/if}}
          {{/each}}
        </div>
      </div>
    {{/each}}
  </div>

  <!-- Bottom: Skill columns -->
  <div class="confirm-button-row">
    <button type="button" id="confirm-button" class="pill confirm-button locked">Confirm</button>
  </div>

</section>
